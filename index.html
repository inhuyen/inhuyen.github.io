<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Mê Cung và Rắn</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        h1 {
            font-size: 2.5rem;
        }
        button {
            font-size: 1.2rem;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #45a049;
        }
        .game-container {
            display: none;
        }
        canvas {
            border: 1px solid #ccc;
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>
    <h1>Game Collection</h1>
    <button onclick="startGame('snake')">Chơi Game Rắn Săn Mồi</button>
    <button onclick="startGame('maze')">Chơi Game Giải Mê Cung</button>

    <!-- Game 1: Snake -->
    <div id="snake" class="game-container">
        <h2>Game Rắn Săn Mồi</h2>
        <canvas id="gameCanvasSnake" width="400" height="400"></canvas>
        <script>
            // Game Rắn Săn Mồi
            const canvasSnake = document.getElementById("gameCanvasSnake");
            const ctxSnake = canvasSnake.getContext("2d");

            const snakeSize = 10;
            let snake;
            let snakeDirection;
            let food;
            let score;

            function initializeGameSnake() {
                snake = [{ x: 150, y: 150 }];
                snakeDirection = "RIGHT";
                food = spawnFood();
                score = 0;
            }

            function drawSnake() {
                for (let i = 0; i < snake.length; i++) {
                    ctxSnake.fillStyle = i === 0 ? "green" : "black"; 
                    ctxSnake.fillRect(snake[i].x, snake[i].y, snakeSize, snakeSize);
                }
            }

            function drawFood() {
                ctxSnake.fillStyle = "red";
                ctxSnake.fillRect(food.x, food.y, snakeSize, snakeSize);
            }

            function moveSnake() {
                const head = { ...snake[0] };

                if (snakeDirection === "UP") head.y -= snakeSize;
                else if (snakeDirection === "DOWN") head.y += snakeSize;
                else if (snakeDirection === "LEFT") head.x -= snakeSize;
                else if (snakeDirection === "RIGHT") head.x += snakeSize;

                snake.unshift(head);
                if (head.x === food.x && head.y === food.y) {
                    score += 10;
                    food = spawnFood();
                } else {
                    snake.pop();
                }
            }

            function spawnFood() {
                const foodX = Math.floor(Math.random() * (canvasSnake.width / snakeSize)) * snakeSize;
                const foodY = Math.floor(Math.random() * (canvasSnake.height / snakeSize)) * snakeSize;
                return { x: foodX, y: foodY };
            }

            function checkCollisions() {
                const head = snake[0];
                if (head.x < 0 || head.x >= canvasSnake.width || head.y < 0 || head.y >= canvasSnake.height) {
                    return true; 
                }
                for (let i = 1; i < snake.length; i++) {
                    if (head.x === snake[i].x && head.y === snake[i].y) {
                        return true; 
                    }
                }
                return false;
            }

            function drawScore() {
                ctxSnake.fillStyle = "black";
                ctxSnake.font = "20px Arial";
                ctxSnake.fillText("Điểm: " + score, 10, 20);
            }

            function gameLoopSnake() {
                if (checkCollisions()) {
                    alert("Game Over! Điểm của bạn: " + score);
                    window.location.reload();
                    return;
                }

                ctxSnake.clearRect(0, 0, canvasSnake.width, canvasSnake.height); 
                drawSnake();
                drawFood();
                drawScore();
                moveSnake();

                setTimeout(gameLoopSnake, 100); 
            }

            document.addEventListener("keydown", (event) => {
                if (event.key === "ArrowUp" && snakeDirection !== "DOWN") {
                    snakeDirection = "UP";
                } else if (event.key === "ArrowDown" && snakeDirection !== "UP") {
                    snakeDirection = "DOWN";
                } else if (event.key === "ArrowLeft" && snakeDirection !== "RIGHT") {
                    snakeDirection = "LEFT";
                } else if (event.key === "ArrowRight" && snakeDirection !== "LEFT") {
                    snakeDirection = "RIGHT";
                }
            });

            initializeGameSnake();
            gameLoopSnake();
        </script>
    </div>

    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tung Xúc Sắc</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        h1 {
            font-size: 2.5rem;
        }
        button {
            font-size: 1.2rem;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover {
            background-color: #45a049;
        }
        .game-container {
            display: none;
        }
        .board {
            display: grid;
            grid-template-columns: repeat(10, 50px);
            grid-gap: 5px;
            margin: 20px auto;
            justify-content: center;
        }
        .square {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f4f4f4;
            border: 1px solid #ccc;
            font-size: 1rem;
        }
        .player {
            background-color: green;
            color: white;
            border-radius: 50%;
        }
        .trap {
            background-color: red;
            color: white;
        }
        .goal {
            background-color: gold;
            color: white;
        }
        .instructions {
            font-size: 1.2rem;
            margin-top: 20px;
            color: #333;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Game Tung Xúc Sắc</h1>
    <button onclick="startGame()">Chơi Game</button>

    <!-- Game Container -->
    <div id="game" class="game-container">
        <h2>Tung Xúc Sắc và Di Chuyển</h2>
        <div class="instructions">
            <p><strong>Hướng dẫn chơi:</strong></p>
            <p>- Nhấn nút "Tung Xúc Sắc" để di chuyển về đích.</p>
            <p>- Cạm bẫy sẽ làm bạn bị lùi lại hoặc mất lượt!</p>
            <p>- Mục tiêu: Đến ô cuối cùng trước khi gặp bẫy.</p>
        </div>
        <div class="board" id="board"></div>
        <button onclick="rollDice()">Tung Xúc Sắc</button>
        <p id="rollResult"></p>
        <p id="message"></p>
    </div>

    <script>
        // Cấu hình game
        const boardSize = 10; // Số ô trong bảng
        const traps = [3, 5, 7]; // Các ô có bẫy (bẫy sẽ làm người chơi lùi lại 2 ô)
        const goal = 9; // Ô đích

        let playerPosition = 0;
        let gameOver = false;

        // Tạo bàn cờ
        function createBoard() {
            const board = document.getElementById('board');
            board.innerHTML = '';
            for (let i = 0; i < boardSize; i++) {
                const square = document.createElement('div');
                square.classList.add('square');
                if (i === goal) {
                    square.classList.add('goal');
                    square.textContent = 'Đích';
                }
                if (traps.includes(i)) {
                    square.classList.add('trap');
                    square.textContent = 'Bẫy';
                }
                board.appendChild(square);
            }
        }

        // Cập nhật vị trí người chơi
        function updatePlayerPosition() {
            const squares = document.querySelectorAll('.square');
            squares.forEach(square => square.classList.remove('player'));

            const playerSquare = squares[playerPosition];
            playerSquare.classList.add('player');
        }

        // Kiểm tra game over
        function checkGameOver() {
            if (playerPosition === goal) {
                document.getElementById('message').textContent = 'Chúc mừng! Bạn đã đến đích!';
                gameOver = true;
            } else if (playerPosition < 0) {
                document.getElementById('message').textContent = 'Bạn đã thua! Quay lại và thử lại!';
                gameOver = true;
            }
        }

        // Tung xúc xắc
        function rollDice() {
            if (gameOver) return;
            const diceRoll = Math.floor(Math.random() * 6) + 1;
            document.getElementById('rollResult').textContent = `Bạn đã tung được số: ${diceRoll}`;

            playerPosition += diceRoll;
            if (playerPosition === goal) {
                checkGameOver();
            } else if (traps.includes(playerPosition)) {
                document.getElementById('message').textContent = `Bạn đã rơi vào bẫy! Lùi lại 2 ô.`;
                playerPosition -= 2;
                if (playerPosition < 0) playerPosition = 0; // Đảm bảo không lùi quá ô đầu tiên
            }
            updatePlayerPosition();
            checkGameOver();
        }

        // Khởi tạo game
        function startGame() {
            document.getElementById('game').style.display = 'block';
            createBoard();
            updatePlayerPosition();
            document.getElementById('message').textContent = '';
            document.getElementById('rollResult').textContent = '';
            playerPosition = 0;
            gameOver = false;
        }
    </script>
</body>
</html>
